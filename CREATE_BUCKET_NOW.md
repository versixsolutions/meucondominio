# ğŸš¨ AÃ‡ÃƒO IMEDIATA: CRIAR BUCKET DE STORAGE

**Status:** âŒ Bucket "assembleias" nÃ£o existe  
**Impacto:** Upload de PDFs nÃ£o funcionarÃ¡  
**Tempo:** 2 minutos  
**Prioridade:** ğŸ”´ CRÃTICA

---

## ğŸ¯ PASSO A PASSO VISUAL

### 1ï¸âƒ£ Acesse o Dashboard do Supabase

**Link direto:** 
```
https://supabase.com/dashboard/project/gjsnrrfuahfckvjlzwxw/storage/buckets
```

ğŸ‘† **Ctrl + Clique** no link acima ou copie e cole no navegador

---

### 2ï¸âƒ£ Clique no BotÃ£o "New bucket"

VocÃª verÃ¡ uma pÃ¡gina como esta:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Storage                                    [New bucket] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  ğŸ“¦ Buckets                                         â”‚
â”‚  (vazio ou lista de outros buckets)                 â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**AÃ§Ã£o:** Clique no botÃ£o verde **"New bucket"** no canto superior direito

---

### 3ï¸âƒ£ Preencha o FormulÃ¡rio

Um modal aparecerÃ¡ com o formulÃ¡rio:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create a new bucket                          [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  Name *                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ assembleias                                  â”‚   â”‚  â¬…ï¸ DIGITE AQUI
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚  â˜‘ Public bucket                                    â”‚  â¬…ï¸ MARQUE ESTA CAIXA!
â”‚    Allow public access to all files                â”‚
â”‚                                                     â”‚
â”‚  File size limit                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 10 MB                                        â”‚   â”‚  â¬…ï¸ DEIXE PADRÃƒO
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚  Allowed MIME types (optional)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ application/pdf                              â”‚   â”‚  â¬…ï¸ DIGITE ESTE
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚                         [Cancel]  [Create bucket]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ConfiguraÃ§Ã£o EXATA:**
- **Name:** `assembleias` (sem espaÃ§os, tudo minÃºsculo)
- **Public bucket:** âœ… **MARCAR** (muito importante!)
- **File size limit:** `10 MB` (deixar padrÃ£o)
- **Allowed MIME types:** `application/pdf`

---

### 4ï¸âƒ£ Criar o Bucket

Clique no botÃ£o **"Create bucket"** (azul, canto inferior direito)

VocÃª verÃ¡ uma mensagem de sucesso:
```
âœ… Bucket created successfully
```

O bucket "assembleias" aparecerÃ¡ na lista:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¦ assembleias                              ğŸŒ      â”‚
â”‚     Public â€¢ 0 files â€¢ Created just now              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5ï¸âƒ£ Verificar CriaÃ§Ã£o

Volte ao terminal e execute:

```powershell
npm run check:storage
```

**Resultado esperado:**
```
ğŸ—„ï¸  Verificando bucket de Storage no Supabase...

ğŸ“¦ Buckets existentes:
   ğŸŒ assembleias (pÃºblico)

============================================================
âœ… Bucket "assembleias" ENCONTRADO!
   Status: ğŸŒ PÃºblico
============================================================
```

---

## âš ï¸ IMPORTANTE: BUCKET DEVE SER PÃšBLICO

Se vocÃª esquecer de marcar "Public bucket", os uploads funcionarÃ£o MAS as URLs pÃºblicas nÃ£o serÃ£o acessÃ­veis.

**Como verificar se estÃ¡ pÃºblico:**
1. Acesse: https://supabase.com/dashboard/project/gjsnrrfuahfckvjlzwxw/storage/buckets
2. Procure o Ã­cone ğŸŒ ao lado de "assembleias"
3. Se estiver ğŸ”’ (privado), clique no bucket e mude para pÃºblico

---

## ğŸ§ª TESTAR APÃ“S CRIAR

### Teste 1: VerificaÃ§Ã£o AutomÃ¡tica
```powershell
npm run check:storage
```

### Teste 2: Criar Assembleia de Teste
```powershell
npm run seed:assembleia
```

### Teste 3: Dev Server
```powershell
npm run dev
```

Depois:
1. Login como admin
2. Acesse: http://localhost:5173/admin/assembleias
3. Criar nova assembleia
4. **Upload de PDF** deve funcionar!

---

## ğŸ› TROUBLESHOOTING

### Erro: "Bucket already exists"
**Causa:** Bucket foi criado mas com nome diferente

**SoluÃ§Ã£o:**
1. Liste todos os buckets
2. Se existe "Assembleias" (maiÃºsculo) â†’ renomear para "assembleias"
3. Ou deletar e criar novo com nome correto

---

### Erro: "Access denied" ao fazer upload
**Causa:** Bucket nÃ£o estÃ¡ pÃºblico

**SoluÃ§Ã£o:**
1. VÃ¡ para: https://supabase.com/dashboard/project/gjsnrrfuahfckvjlzwxw/storage/buckets
2. Clique em "assembleias"
3. Settings â†’ Marque "Public bucket"
4. Save

---

### Upload funciona mas URL nÃ£o abre
**Causa:** Bucket criado como privado

**SoluÃ§Ã£o:**
1. Mesma soluÃ§Ã£o acima
2. Ou adicionar policy manualmente:
   ```sql
   CREATE POLICY "Public Access"
   ON storage.objects FOR SELECT
   USING ( bucket_id = 'assembleias' );
   ```

---

## âœ… CHECKLIST FINAL

Antes de continuar, confirme:

- [ ] Bucket "assembleias" criado
- [ ] Ãcone ğŸŒ (pÃºblico) aparece ao lado do nome
- [ ] `npm run check:storage` retorna sucesso
- [ ] MIME type: `application/pdf` configurado

---

## ğŸ“ AJUDA RÃPIDA

**Link direto para criar:**
https://supabase.com/dashboard/project/gjsnrrfuahfckvjlzwxw/storage/buckets

**ConfiguraÃ§Ã£o em texto simples:**
```
Nome: assembleias
PÃºblico: SIM
Tamanho: 10 MB
MIME: application/pdf
```

**ApÃ³s criar, execute:**
```powershell
npm run check:storage
npm run seed:assembleia
npm run dev
```

---

## ğŸ¯ PRÃ“XIMOS PASSOS

ApÃ³s criar o bucket com sucesso:

1. âœ… Verificar: `npm run check:storage`
2. âœ… Seed de teste: `npm run seed:assembleia`
3. âœ… Testar upload no frontend
4. âœ… Smoke tests completos
5. âœ… Comunicar stakeholders: "Deploy completo!"

---

**â±ï¸ Tempo estimado:** 2 minutos  
**ğŸ”§ Dificuldade:** Baixa  
**âš ï¸ ImportÃ¢ncia:** CRÃTICA

**ğŸ‘‰ Crie o bucket AGORA e depois execute:**
```powershell
npm run check:storage
```
